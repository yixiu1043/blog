(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{427:function(t,a,s){t.exports=s.p+"assets/img/telegram-0.7ce86762.jpg"},428:function(t,a,s){t.exports=s.p+"assets/img/telegram-1.1bbed397.png"},429:function(t,a,s){t.exports=s.p+"assets/img/telegram-2.b311cf2a.png"},430:function(t,a,s){t.exports=s.p+"assets/img/telegram-3.924dc056.png"},431:function(t,a,s){t.exports=s.p+"assets/img/telegram-4.c7c8c362.png"},432:function(t,a,s){t.exports=s.p+"assets/img/telegram-5.87a64b0c.png"},433:function(t,a,s){t.exports=s.p+"assets/img/telegram-6.3f59651d.png"},434:function(t,a,s){t.exports=s.p+"assets/img/telegram-7.32a871a9.png"},435:function(t,a,s){t.exports=s.p+"assets/img/telegram-8.5ffcc228.png"},436:function(t,a,s){t.exports=s.p+"assets/img/telegram-9.5a9c2360.png"},553:function(t,a,s){"use strict";s.r(a);var e=s(2),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[t._v("#")]),t._v(" 开发环境")]),t._v(" "),a("p",[t._v("以mac os为例")]),t._v(" "),a("h3",{attrs:{id:"安装python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装python"}},[t._v("#")]),t._v(" 安装python")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\nbrew "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python3\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检测版本")]),t._v("\npython "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n")])])]),a("h3",{attrs:{id:"安装telethon"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装telethon"}},[t._v("#")]),t._v(" 安装telethon")]),t._v(" "),a("p",[t._v("一个简单易用的telegram api三方库。\n"),a("a",{attrs:{href:"https://docs.telethon.dev/en/stable/#",target:"_blank",rel:"noopener noreferrer"}},[t._v("telethon文档"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--upgrade")]),t._v(" pip\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--upgrade")]),t._v(" telethon\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检测版本")]),t._v("\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"import telethon; print(telethon.__version__)"')]),t._v("\n")])])]),a("h2",{attrs:{id:"账号准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#账号准备"}},[t._v("#")]),t._v(" 账号准备")]),t._v(" "),a("p",[t._v("使用手机号注册一个telegram账号。")]),t._v(" "),a("h3",{attrs:{id:"获取api-id和api-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取api-id和api-hash"}},[t._v("#")]),t._v(" 获取api_id和api_hash")]),t._v(" "),a("ul",[a("li",[t._v("进入"),a("a",{attrs:{href:"https://my.telegram.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://my.telegram.org/"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("登陆你的telegram账户")]),t._v(" "),a("li",[t._v("点击API development tools")]),t._v(" "),a("li",[t._v("填写表格并提交")])]),t._v(" "),a("p",[t._v("登录界面\n"),a("img",{attrs:{src:s(427),alt:"telegram-0.png"}})]),t._v(" "),a("p",[t._v("如果碰到以下错误，耐心重复提交几次\n"),a("img",{attrs:{src:s(428),alt:"telegram-1.png"}})]),t._v(" "),a("p",[t._v("成功后如下：\n"),a("img",{attrs:{src:s(429),alt:"telegram-2.png"}})]),t._v(" "),a("h2",{attrs:{id:"本地调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地调试"}},[t._v("#")]),t._v(" 本地调试")]),t._v(" "),a("p",[t._v("可以使用VSCode或其他编辑器进行本地调试")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" telethon "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" TelegramClient\n\napi_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" xxxxxxx\napi_hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxxxxx'")]),t._v("\nclient "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" TelegramClient"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'anon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" api_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    me "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_me"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(me.stringify())")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -0000000换成你想发送的群id")]),t._v("\n    message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("send_file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./a.jpg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            caption"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It is caption'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It is title!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# print(message.raw_text)")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run_until_complete"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("运行后会提示你输入以下信息：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Please enter your phone "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or bot token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": +86123456789\nPlease enter the code you received: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11631")]),t._v("\nSigned "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" successfully as powersee\n")])])]),a("p",[t._v("查看telegram验证消息是否发送成功。")]),t._v(" "),a("h2",{attrs:{id:"服务托管"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务托管"}},[t._v("#")]),t._v(" 服务托管")]),t._v(" "),a("h3",{attrs:{id:"注册pythonanywhere账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册pythonanywhere账号"}},[t._v("#")]),t._v(" 注册pythonanywhere账号")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.pythonanywhere.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.pythonanywhere.com/"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:s(430),alt:"telegram-3.png"}})]),t._v(" "),a("h3",{attrs:{id:"升级账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级账户"}},[t._v("#")]),t._v(" 升级账户")]),t._v(" "),a("p",[t._v("必须升级账号才能调用telegram api\n"),a("img",{attrs:{src:s(431),alt:"telegram-4.png"}})]),t._v(" "),a("h3",{attrs:{id:"安装依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[t._v("#")]),t._v(" 安装依赖")]),t._v(" "),a("p",[t._v("在Consoles栏点击Bash console 进入bash界面。\n"),a("img",{attrs:{src:s(432),alt:"telegram-5.png"}})]),t._v(" "),a("p",[t._v("输入以下命令安装telethon：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装")]),t._v("\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--upgrade")]),t._v(" pip\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--upgrade")]),t._v(" telethon\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检测版本")]),t._v("\npython3 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"import telethon; print(telethon.__version__)"')]),t._v("\n")])])]),a("h3",{attrs:{id:"添加文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加文件"}},[t._v("#")]),t._v(" 添加文件")]),t._v(" "),a("p",[t._v("在Files栏点击Open another file。\n"),a("img",{attrs:{src:s(433),alt:"telegram-6.png"}})]),t._v(" "),a("p",[t._v("在弹窗输入框中输入/home/demo")]),t._v(" "),a("p",[t._v("点击 Upload a file 将本地之前写好的python文件上传。\n"),a("img",{attrs:{src:s(434),alt:"telegram-7.png"}})]),t._v(" "),a("h3",{attrs:{id:"运行一下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行一下"}},[t._v("#")]),t._v(" 运行一下")]),t._v(" "),a("p",[t._v("测试一下是否可以发送\n"),a("img",{attrs:{src:s(435),alt:"telegram-8.png"}})]),t._v(" "),a("h3",{attrs:{id:"定时任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定时任务"}},[t._v("#")]),t._v(" 定时任务")]),t._v(" "),a("p",[t._v("设置每小时运行\n"),a("img",{attrs:{src:s(436),alt:"telegram-9.png"}})]),t._v(" "),a("h2",{attrs:{id:"完结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完结"}},[t._v("#")]),t._v(" 完结")]),t._v(" "),a("p",[t._v("🎉🎉🎉")])])}),[],!1,null,null,null);a.default=n.exports}}]);